<div class="bg-white shadow-2sm p-4 lg:p-6 xl:p-8 2xl:p-10 rounded-[10px] w-[100%] max-w-[900px]">
    <form [formGroup]="addVendorForm">
        <div class="flex flex-wrap -m-2">
            <div class="w-[100%] p-2">
                <div class="flex">
                    <label class="field-lbl"
                        [ngClass]="{ 'field-error': formControls.vendorName.touched && formControls.vendorName.invalid }">{{
                        'vendor.vendorName' | translate }}</label>
                    <input class="form-field"
                        [ngClass]="{ 'field-error': formControls.vendorName.touched && formControls.vendorName.invalid }"
                        type="text" formControlName="vendorName">
                </div>
                <ng-container
                    *ngTemplateOutlet="requiredError; context: { control: formControls.vendorName }"></ng-container>
            </div>
            <div class="w-[100%] flex flex-wrap" formGroupName="address">
                <div class="w-full sm:w-[50%] p-2">
                    <div class="flex">
                        <label class="field-lbl"
                            [ngClass]="{ 'field-error': addressControls.street.touched && addressControls.street.invalid }">{{
                            'common.street' | translate }}</label>
                        <input class="form-field"
                            [ngClass]="{ 'field-error': addressControls.street.touched && addressControls.street.invalid }"
                            type="text" formControlName="street">
                    </div>
                    <ng-container
                        *ngTemplateOutlet="requiredError; context: { control: addressControls.street }"></ng-container>
                </div>
                <div class="w-full sm:w-[50%] p-2">
                    <div class="flex">
                        <label class="field-lbl"
                            [ngClass]="{ 'field-error': addressControls.zip.touched && addressControls.zip.invalid }">{{
                            'common.zip' | translate }}</label>
                        <input class="form-field"
                            [ngClass]="{ 'field-error': addressControls.zip.touched && addressControls.zip.invalid }"
                            type="text" formControlName="zip" maxlength="6" appAllowNumberOnly
                            [regexType]="regexType.integer">
                    </div>
                    <ng-container
                        *ngTemplateOutlet="requiredError; context: { control: addressControls.zip }"></ng-container>
                    <ng-container
                        *ngTemplateOutlet="patternError; context: { control: addressControls.zip, message: ( 'validation.invalidZip' | translate ) }"></ng-container>
                </div>
                <div class="w-full sm:w-[50%] p-2">
                    <div class="flex">
                        <label class="field-lbl"
                            [ngClass]="{ 'field-error': addressControls.city.touched && addressControls.city.invalid }">{{
                            'common.city' | translate }}</label>
                        <input class="form-field"
                            [ngClass]="{ 'field-error': addressControls.city.touched && addressControls.city.invalid }"
                            type="text" formControlName="city">
                    </div>
                    <ng-container
                        *ngTemplateOutlet="requiredError; context: { control: addressControls.city }"></ng-container>
                </div>
                <div class="w-full sm:w-[50%] p-2">
                    <div class="flex">
                        <label class="field-lbl"
                            [ngClass]="{ 'field-error': addressControls.country.touched && addressControls.country.invalid }">{{
                            'common.country' | translate }}</label>
                        <ng-select class="w-full font-semibold text-secondary custom-select"
                            [ngClass]="{ 'field-error': addressControls.country.touched && addressControls.country.invalid }"
                            formControlName="country" [clearable]="false" [searchable]="false">
                            <ng-option *ngFor="let country of countryList" [value]="country.value">
                                {{ 'common.countries.' + country.label | translate }}
                            </ng-option>
                        </ng-select>
                    </div>
                    <ng-container
                        *ngTemplateOutlet="requiredError; context: { control: addressControls.country }"></ng-container>
                </div>
            </div>
        </div>
        <h4
            class="sub-txt relative text-[14px] font-semibold text-secondary mb-6 lg:mb-8 2xl:mb-10 mt-8 lg:mt-12 2xl:mt-16">
            <span class="bg-white relative z-[1] px-2 lg:px-3 -ml-2 lg:-ml-3">{{ 'common.contactInfo' |
                translate }}</span>
        </h4>
        <div class="flex flex-wrap -m-2">
            <div class="w-full sm:w-[50%] p-2">
                <div class="flex">
                    <label class="field-lbl"
                        [ngClass]="{ 'field-error': formControls.email.touched && formControls.email.invalid }">{{
                        'common.email' | translate }}</label>
                    <input class="form-field"
                        [ngClass]="{ 'field-error': formControls.email.touched && formControls.email.invalid }"
                        type="text" [pattern]="emailRegex" formControlName="email">
                </div>
                <ng-container
                    *ngTemplateOutlet="requiredError; context: { control: formControls.email }"></ng-container>
                <ng-container
                    *ngTemplateOutlet="patternError; context: { control: formControls.email, message: ( 'validation.invalidEmail' | translate ) }"></ng-container>
            </div>
            <div class="w-full sm:w-[50%] p-2">
                <div class="flex field-box">
                    <label class="field-lbl"
                        [ngClass]="{ 'field-error': formControls.phoneNo.touched && formControls.phoneNo.invalid }">{{
                        'common.phone' | translate }}</label>
                    <app-cp-tel-input class="w-full flex"
                        [cssClass]="{ 'form-field': true, 'field-error': formControls.phoneNo.touched && formControls.phoneNo.invalid }"
                        formControlName="phoneNo"></app-cp-tel-input>
                </div>
                <ng-container
                    *ngTemplateOutlet="requiredError; context: { control: formControls.phoneNo }"></ng-container>
                <ng-container
                    *ngTemplateOutlet="patternError; context: { control: formControls.phoneNo, message: ( 'validation.invalidPhoneNo' | translate ) }"></ng-container>
            </div>
        </div>
        <div class="flex justify-end mt-6 2xl:mt-8">
            <app-cp-button [class]="{ 'common-btn secondary-btn font-semibold rounded-[5px] min-w-[100px] mr-4': true }"
                [label]="( 'common.cancel' | translate )" (onTap)="navigateToList()"></app-cp-button>

            <app-cp-button [class]="{ 'common-btn primary-btn font-semibold rounded-[5px] min-w-[100px]': true }"
                [label]="id ? ( 'common.update' | translate ) : ( 'common.add' | translate )" (onTap)="onSubmit()"
                [isDisabled]="isSubmitted" [spin]="isSubmitted"></app-cp-button>

        </div>
    </form>
</div>

<ng-template #requiredError let-control="control">
    <ng-container *ngIf="control.touched && control.errors?.required">
        <p class="error-message">{{ 'validation.fieldRequired' | translate }}</p>
    </ng-container>
</ng-template>
<ng-template #patternError let-control="control" let-message="message">
    <ng-container
        *ngIf="control.touched && (control.errors?.pattern || control.errors?.email || control.errors?.invalidNumber)">
        <p class="error-message">{{ message }}</p>
    </ng-container>
</ng-template>